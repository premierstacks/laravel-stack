<?php

/**
 * @author Tomáš Chochola <chocholatom1997@gmail.com>
 * @copyright © 2024–Present Tomáš Chochola <chocholatom1997@gmail.com>. All rights reserved.
 *
 * @license
 *
 * This software is proprietary and licensed under specific terms set by its owner.
 * Any form of access, use, or distribution requires a valid and active license.
 * For full licensing terms, refer to the LICENSE.md file accompanying this software.
 *
 * @see {@link https://premierstacks.com} Website
 * @see {@link https://github.com/tomchochola} GitHub Personal
 * @see {@link https://github.com/premierstacks} GitHub Organization
 * @see {@link https://github.com/sponsors/tomchochola} GitHub Sponsors
 */

declare(strict_types=1);

namespace Premierstacks\LaravelStack\Geo\Objects;

use Illuminate\Contracts\Database\Query\Expression;
use Illuminate\Database\Grammar;
use Random\IntervalBoundary;
use Random\Randomizer;

class Bbox implements Expression, Geom
{
    /**
     * @var array<string, array{float, float, float, float}>
     */
    public const OUTER_BOX = [
        'AW' => [12.170_299_8, -70.280_984_2, 12.810_299_8, -69.640_984_2],
        'AF' => [29.377_2, 60.517_603_4, 38.491_068_2, 74.889_862],
        'AO' => [-18.038_945, 11.460_979_3, -4.388_063_4, 24.087_885_6],
        'AI' => [18.061_545_4, -63.639_199_2, 18.795_119_4, -62.712_544_9],
        'AX' => [59.454_157_8, 19.083_209_8, 60.876_65, 21.345_655_6],
        'AL' => [39.644_862_5, 19.124_609_5, 42.661_084_8, 21.057_433_5],
        'AD' => [42.428_823_8, 1.413_578_1, 42.655_935_7, 1.786_383_7],
        'AE' => [22.644_4, 51.498, 26.282_2, 56.383_4],
        'AR' => [-55.185_076_1, -73.560_032_9, -21.781_168, -53.637_451_5],
        'AM' => [38.840_477_5, 43.447_139_5, 41.300_712, 46.633_308_7],
        'AS' => [-14.760_835_8, -171.295_129_6, -10.844_974_6, -167.932_289_9],
        'AQ' => [-85.051_128_7, -180.0, -60.0, 180.0],
        'TF' => [-50.218_716_9, 39.413_867_6, -11.313_992_8, 77.849_497_4],
        'AG' => [16.757_390_1, -62.553_651_7, 17.929, -61.447_857],
        'AU' => [-55.322_817_5, 72.246_093_8, -9.088_227_8, 168.224_954_3],
        'AT' => [46.372_276_1, 9.530_748_7, 49.020_530_5, 17.160_776],
        'AZ' => [38.392_955_1, 44.763_370_1, 41.950_294_7, 51.009_030_2],
        'BI' => [-4.469_315_5, 29.000_740_1, -2.309_679_6, 30.849_846_2],
        'BE' => [49.496_982_1, 2.388_913_7, 51.551_666_7, 6.408_097],
        'BJ' => [6.039_869_6, 0.776_667, 12.409_244_7, 3.843_343],
        'BF' => [9.410_471_8, -5.513_241_6, 15.084, 2.408_971_7],
        'BD' => [20.375_658_2, 88.007_530_6, 26.638_253_4, 92.680_497_9],
        'BG' => [41.235_392_9, 22.357_145_9, 44.216_706_4, 28.887_540_9],
        'BH' => [25.535, 50.269_798_9, 26.687_244_4, 50.923_369_3],
        'BS' => [20.705_984_6, -80.700_194_1, 27.473_455_1, -72.447_752_1],
        'BA' => [42.555_311_4, 15.728_743_3, 45.276_413_5, 19.623_731_1],
        'BL' => [17.670_931, -63.066_39, 18.137_556_9, -62.584_401_9],
        'BY' => [51.257_598_2, 23.178_334_4, 56.172_18, 32.762_780_9],
        'BZ' => [15.885_728_6, -89.226_208_3, 18.496_001, -87.309_849_4],
        'BM' => [32.046_965_1, -65.123_222_2, 32.591_369_3, -64.410_984_2],
        'BO' => [-22.898_274_2, -69.645_007_3, -9.668_943_8, -57.453],
        'BR' => [-33.868_905_6, -73.983_062_5, 5.284_287_3, -28.634_116_4],
        'BB' => [12.845, -59.856_211_5, 13.535, -59.214_717_5],
        'BN' => [4.002_508, 114.075_873_4, 5.101_185_7, 115.363_562_3],
        'BT' => [26.702_016, 88.746_472_4, 28.246_987, 92.125_232_1],
        'BV' => [-54.654, 2.934_553_1, -54.187, 3.779_109_9],
        'BW' => [-26.905_966_9, 19.998_647_4, -17.778_137, 29.375_304],
        'CF' => [2.215_655_3, 14.415_542_6, 11.001_389, 27.454_076_4],
        'CA' => [41.676_555_6, -141.002_75, 83.336_212_8, -52.323_198_1],
        'CC' => [-12.405_598_3, 96.612_524, -11.621_313_2, 97.135_734_3],
        'CH' => [45.817_995, 5.955_911_3, 47.808_464_8, 10.492_294_1],
        'CL' => [-56.725, -109.679_578_9, -17.498_399_8, -66.075_347_4],
        'CN' => [8.838_343_6, 73.499_734_7, 53.560_815_4, 134.775_456_3],
        'CI' => [4.162_120_5, -8.601_725, 10.740_197, -2.493_031],
        'CM' => [1.654_665_9, 8.382_217_6, 13.083_333, 16.192_147_6],
        'CD' => [-13.459_035, 12.039_074, 5.392_002_6, 31.305_675_8],
        'CG' => [-5.149_089, 11.004_820_5, 3.713_056, 18.643_611],
        'CK' => [-22.158_07, -166.085_646_8, -8.716_879_2, -157.108_932_9],
        'CO' => [-4.231_687_2, -82.124_366_6, 16.057_126_9, -66.851_190_7],
        'KM' => [-12.621, 43.025_305, -11.165, 44.745_192_2],
        'CV' => [14.803_154_6, -25.360_947_8, 17.205_310_8, -22.667_341_6],
        'CR' => [5.332_969_8, -87.272_264_7, 11.219_568_4, -82.506_020_8],
        'CU' => [19.627_529_4, -85.167_970_2, 23.481_697_2, -73.919_000_4],
        'CX' => [-10.569_851_5, 105.533_642_2, -10.412_355_3, 105.713_015_9],
        'KY' => [19.062_061_9, -81.631_374_8, 19.957_375_9, -79.511_095_4],
        'CY' => [34.438_370_6, 32.022_758_1, 35.913_252, 34.855_318_2],
        'CZ' => [48.551_808_3, 12.090_590_1, 51.055_703_6, 18.859_216],
        'DE' => [47.270_111_4, 5.866_315_3, 55.099_161, 15.041_931_9],
        'DJ' => [10.914_954_7, 41.771_313_9, 12.792_308_1, 43.657_904_6],
        'DM' => [15.007_420_7, -61.686_918_4, 15.787_222_2, -61.032_989_5],
        'DK' => [54.451_666_7, 7.715_325_5, 57.952_429_7, 15.553_064_1],
        'DO' => [17.270_170_8, -72.057_470_6, 21.303_433, -68.110_146_3],
        'DZ' => [18.968_147, -8.668_908, 37.296_205_5, 11.997_337],
        'EC' => [-5.015_931_4, -92.207_239_2, 1.883_596_4, -75.192_504],
        'EG' => [22.0, 24.649_911_2, 31.833_085_4, 37.115_351_7],
        'ER' => [12.354_821_9, 36.433_365_3, 18.070_991_7, 43.300_171_4],
        'EH' => [20.556_883, -17.349_472_1, 27.666_683_4, -8.666_389],
        'ES' => [27.433_542_6, -18.393_684_5, 43.993_308_8, 4.591_888_5],
        'EE' => [57.509_299_7, 21.382_606_9, 59.938_375_4, 28.210_017_5],
        'ET' => [3.397_448, 32.997_583_8, 14.894_053_7, 47.982_379_7],
        'FI' => [59.454_157_8, 19.083_209_8, 70.092_293_9, 31.586_707_1],
        'FJ' => [-21.943_427_4, 172.0, -12.261_386_6, -178.5],
        'FK' => [-53.118_676_6, -61.772_677_2, -50.797_300_7, -57.366_236_7],
        'FR' => [41.263_218_5, -5.453_428_6, 51.268_318, 9.867_834_4],
        'FO' => [61.391_555_3, -7.688_293_9, 62.394_299_1, -6.256_552_5],
        'FM' => [0.827, 137.223_451_2, 10.291, 163.236_405_4],
        'GA' => [-4.101_226_1, 8.500_224_6, 2.318_217_1, 14.539_444],
        'GB' => [49.674, -14.015_517, 61.061, 2.091_911_7],
        'GE' => [41.055_292_2, 39.884_480_3, 43.586_429_4, 46.736_537_3],
        'GG' => [49.415_533_1, -2.675_170_3, 49.509_077_6, -2.501_814],
        'GH' => [4.539_252_5, -3.260_786, 11.174_856_2, 1.273_294_2],
        'GI' => [36.100_807, -5.394_129_5, 36.180_807, -5.314_129_5],
        'GN' => [7.190_604_5, -15.568_050_8, 12.675_63, -7.638_199_3],
        'GP' => [15.832_008_5, -61.809_764, 16.514_466_4, -61.000_366_3],
        'GM' => [13.061, -17.028_825_4, 13.825_313_7, -13.797_778],
        'GW' => [10.651_421_5, -16.894_523, 12.686_238_4, -13.634_877_7],
        'GQ' => [-1.673_219_6, 5.417_294_3, 3.989, 11.359_862_8],
        'GR' => [34.700_609_6, 19.247_787_6, 41.748_886_2, 29.729_698_6],
        'GD' => [11.786, -62.006_586_8, 12.596_653_2, -61.173_214_3],
        'GL' => [59.515_387, -74.125_041_6, 83.875_172, -10.028_875_9],
        'GT' => [13.634_580_4, -92.310_524_2, 17.816_594_7, -88.175_584_9],
        'GF' => [2.112_222, -54.602_78, 5.750_711_1, -51.634_613_9],
        'GU' => [13.182_335, 144.563_426, 13.706_179, 145.009_167],
        'GY' => [1.171_001_7, -61.414_905, 8.603_884_2, -56.468_954_3],
        'HK' => [22.119_327_8, 114.002_813_1, 22.439_327_8, 114.322_813_1],
        'HM' => [-53.394_741, 72.246_093_8, -52.703_067_7, 74.198_875_4],
        'HN' => [12.980_848_5, -89.356_820_7, 17.619_526, -82.172_962_1],
        'HR' => [42.176_599_3, 13.210_481_4, 46.555_029, 19.447_084_2],
        'HT' => [17.909_929_1, -75.238_461_8, 20.218_136_8, -71.621_746_1],
        'HU' => [45.737_128, 16.113_886_7, 48.585_257, 22.897_709_4],
        'ID' => [-11.208_566_9, 94.771_712_4, 6.274_449_6, 141.019_444_4],
        'IM' => [54.053_957_6, -4.794_684_5, 54.417_870_5, -4.307_685_3],
        'IN' => [6.554_607_9, 68.111_378_7, 35.674_545_7, 97.395_561],
        'IO' => [-7.645_407_9, 71.036_504, -5.037_066, 72.702_015_7],
        'IE' => [51.222, -11.013_378_8, 55.636, -5.658_236_3],
        'IR' => [24.846_510_3, 44.031_890_8, 39.781_650_2, 63.333_270_4],
        'IQ' => [29.058_566_1, 38.793_671_9, 37.380_932, 48.841_270_2],
        'IS' => [63.085_917_7, -25.013_506_9, 67.353, -12.804_616_2],
        'IL' => [29.453_379_6, 34.267_499_4, 33.335_631_7, 35.895_023_4],
        'IT' => [35.288_961_6, 6.627_265_8, 47.092_146_2, 18.784_474_6],
        'JM' => [16.589_944_3, -78.578_236_6, 18.725_639_4, -75.754_114_3],
        'JE' => [49.162_517_9, -2.254_512, 49.262_128_8, -2.010_419_3],
        'JO' => [29.183_401, 34.884_437_2, 33.375_061_7, 39.301_298_1],
        'JP' => [20.214_581_1, 122.714_175_4, 45.711_204_6, 154.205_541],
        'KZ' => [40.568_647_6, 46.493_217_9, 55.442_170_1, 87.315_631_6],
        'KE' => [-4.899_520_4, 33.909_898_7, 4.62, 41.899_578],
        'KG' => [39.172_843_7, 69.264_952_3, 43.266_797_1, 80.229_579_3],
        'KH' => [9.475_263_9, 102.333_828_2, 14.690_422_4, 107.627_678_8],
        'KI' => [-7.051_671_7, -179.164_538_8, 7.948_328_3, -164.164_538_8],
        'KN' => [16.895, -63.051_129, 17.615_814_6, -62.330_351_9],
        'KR' => [32.910_455_6, 124.354_847, 38.623_477, 132.146_780_6],
        'KW' => [28.524_362_2, 46.552_683_7, 30.103_808_2, 49.004_680_9],
        'LA' => [13.909_675_2, 100.084_324_7, 22.508_671_7, 107.634_998_9],
        'LB' => [33.047_985_8, 34.882_566_7, 34.692_354_3, 36.625],
        'LR' => [4.155_590_7, -11.608_076_4, 8.551_986_1, -7.367_323],
        'LY' => [19.500_813_8, 9.391_081, 33.354_589_8, 25.377_062_9],
        'LC' => [13.508, -61.285_386_7, 14.272_5, -60.666_936_3],
        'LI' => [47.048_429_1, 9.471_673_6, 47.270_581, 9.635_714_3],
        'LK' => [5.719, 79.395_920_5, 10.035, 82.081_014_1],
        'LS' => [-30.677_277_3, 27.011_463_2, -28.570_615, 29.455_709_9],
        'LT' => [53.896_789_3, 20.653_783, 56.450_421_3, 26.835_519_8],
        'LU' => [49.496_982_1, 4.968_441_5, 50.430_377, 6.034_425_4],
        'LV' => [55.674_650_5, 20.671_540_7, 58.085_568_8, 28.241_490_4],
        'MO' => [22.076_666_7, 113.528_166_6, 22.217_036_1, 113.630_138_9],
        'MF' => [17.896_353_5, -63.360_564_3, 18.190_277_8, -62.764_406_3],
        'MA' => [21.336_532_1, -17.255_145_6, 36.050_526_9, -0.998_429],
        'MC' => [43.724_759_9, 7.409_027_9, 43.751_931_1, 7.439_870_4],
        'MD' => [45.467_413_9, 26.616_218_9, 48.491_869_5, 30.163_675_6],
        'MG' => [-25.607_100_2, 43.220_207_2, -11.951_969_3, 50.486_255_3],
        'MV' => [-0.907_493_5, 72.355_418_7, 7.310_624_6, 73.970_096_2],
        'MX' => [14.388_624_3, -118.599_19, 32.718_655_3, -86.493_266],
        'MH' => [-0.548_125_8, 163.498_509_5, 14.451_874_2, 178.498_509_5],
        'MK' => [40.853_659_6, 20.452_902_3, 42.373_535_9, 23.034_051],
        'ML' => [10.147_811, -12.240_283_5, 25.001_084, 4.267_382_8],
        'MT' => [35.602_969_6, 13.932_422_6, 36.285_270_6, 14.826_796_6],
        'MM' => [9.439_943_2, 92.171_942_3, 28.547_835, 101.170_079_6],
        'ME' => [41.749_599_9, 18.419_578_1, 43.558_506_1, 20.356_164_1],
        'MN' => [41.580_027_6, 87.737_62, 52.149_6, 119.931_949],
        'MP' => [14.036_565, 144.813_338, 20.616_556, 146.154_418],
        'MZ' => [-26.920_942_7, 30.213_819_7, -10.325_214_9, 41.054_590_8],
        'MR' => [14.720_990_9, -17.068_081, 27.314_942, -4.833_334_4],
        'MS' => [16.475, -62.450_667, 17.015_297_8, -61.935_381_8],
        'MQ' => [14.394_859_6, -61.229_081_5, 14.878_702_9, -60.809_583_3],
        'MU' => [-20.725, 56.382_515_1, -10.138, 63.715_131_9],
        'MW' => [-17.129_603_1, 32.670_361_6, -9.368_326_1, 35.918_573_1],
        'MY' => [-5.107_624_1, 105.347_193_9, 9.892_375_9, 120.347_193_9],
        'YT' => [-13.021_011_9, 45.018_329_8, -12.636_590_2, 45.299_991_7],
        'NA' => [-28.969_45, 11.528_038_4, -16.963_485_5, 25.261_767_1],
        'NC' => [-23.221_750_9, 162.603_434_3, -17.686_861_6, 167.810_982_7],
        'NE' => [11.693_756, 0.168_965_3, 23.517_178, 15.996_667],
        'NF' => [-29.333, 167.687_387_8, -28.796, 168.224_954_3],
        'NG' => [4.069_095_9, 2.676_932, 13.885_645, 14.678_014],
        'NI' => [10.707_656_5, -87.901_532, 15.033_118_3, -82.622_702_3],
        'NU' => [-19.354_866_5, -170.159_502_9, -18.753_455_9, -169.564_722_9],
        'NL' => [50.729_567_1, 1.919_349_2, 53.725_332_1, 7.227_498_5],
        'NO' => [57.759_005_2, 4.087_527_4, 71.384_878_7, 31.761_491_1],
        'NP' => [26.347_758_1, 80.058_622_6, 30.446_945, 88.201_525_7],
        'NR' => [-0.554_133_4, 166.909_179_4, -0.502_590_6, 166.958_923_5],
        'NZ' => [-52.821_368_7, -179.059_153, -29.030_330_3, 179.364_359_4],
        'OM' => [16.464_960_8, 52, 26.702_673_7, 60.054_577],
        'PK' => [23.539_391_6, 60.872_855, 37.084_107, 77.120_391_4],
        'PA' => [7.033_867_9, -83.051_724_5, 9.870_175_7, -77.139_377_9],
        'PN' => [-25.130_673_6, -130.804_986_2, -23.865_576_9, -124.717_534],
        'PE' => [-20.198_447_2, -84.635_653_5, -0.039_281_8, -68.651_990_6],
        'PH' => [4.215_806_4, 114.095_214_5, 21.321_780_6, 126.807_256_2],
        'PW' => [2.748, 131.068_546_2, 8.222, 134.771_473_5],
        'PG' => [-13.181_606_9, 136.748_908_1, 1.818_393_1, 151.748_908_1],
        'PL' => [49.002_046_8, 14.122_970_7, 55.033_696_3, 24.145_783],
        'PR' => [17.926_869_5, -67.271_492, 18.515_978_9, -65.589_752_5],
        'KP' => [37.586_785_5, 124.091_390_2, 43.008_964_2, 130.924_647],
        'PT' => [29.828_802_1, -31.557_530_3, 42.154_311_2, -6.189_159_3],
        'PY' => [-27.606_393_5, -62.644_203_6, -19.287_647_2, -54.258],
        'PS' => [31.220_128_9, 34.068_973_2, 32.552_147_9, 35.573_923_5],
        'PF' => [-28.099_023_2, -154.936_059_9, -7.659_217_3, -134.244_799],
        'QA' => [24.470_753_4, 50.567_5, 26.383_021_2, 52.638_011],
        'RE' => [-21.389_730_8, 55.216_426_8, -20.871_713_6, 55.836_692_4],
        'RO' => [43.618_682, 20.261_977_3, 48.265_396_4, 30.045_425_7],
        'RU' => [41.185_096_8, 19.638_9, 82.058_623_2, 180],
        'RW' => [-2.838_980_4, 28.861_754_6, -1.047_408_3, 30.899_073_8],
        'SA' => [16.29, 34.457_171_8, 32.154_337_7, 55.666_685_1],
        'SD' => [8.685_278, 21.814_504_6, 22.224_918, 39.057_625_2],
        'SN' => [12.237_283_8, -17.786_241_9, 16.691_971_2, -11.345_899_6],
        'SG' => [1.130_475_3, 103.692_035_9, 1.450_475_3, 104.012_035_9],
        'GS' => [-59.684, -42.354_739, -53.350_075_5, -25.846_830_3],
        'SH' => [-16.23, -5.997_342_4, -15.704, -5.423_415_3],
        'SJ' => [70.626_082_5, -9.684_814_6, 81.028_076, 34.689_125_3],
        'SB' => [-13.242_429_8, 155.319_055_6, -4.810_85, 170.396_466_7],
        'SL' => [6.755, -13.500_338_9, 9.999_973, -10.271_683],
        'SV' => [12.976_046, -90.179_097_5, 14.451_048_8, -87.635_139_4],
        'SM' => [43.893_700_2, 12.403_324_6, 43.992_093, 12.516_066_5],
        'SO' => [-1.803_196_9, 40.989_18, 12.188_912_1, 51.617_769_6],
        'PM' => [46.550_717_3, -56.697_296_1, 47.365, -55.903_333_3],
        'RS' => [42.232_243_5, 18.814_287_5, 46.190_052_4, 23.006_309],
        'ST' => [-0.213_513_7, 6.260_642, 1.925_760_1, 7.670_478_3],
        'SR' => [1.831_280_2, -58.070_833, 6.225, -53.843_335_8],
        'SK' => [47.731_428_6, 16.833_189_1, 49.613_816_2, 22.565_71],
        'SI' => [45.421_424_2, 13.375_469_6, 46.876_681_6, 16.596_770_2],
        'SE' => [55.133_119_2, 10.593_095_2, 69.059_969_9, 24.177_681_9],
        'SZ' => [-27.317_520_1, 30.790_8, -25.718_76, 32.134_992_3],
        'SC' => [-10.464_925_8, 45.998_875_9, -3.512, 56.497_939_6],
        'SY' => [32.311_354, 35.471_442_7, 37.318_458_9, 42.374_568_7],
        'TC' => [20.955_341_8, -72.679_904_6, 22.163_098_9, -70.864_359_1],
        'TD' => [7.441_07, 13.473_48, 23.497_5, 24.0],
        'TG' => [5.926_547, -0.143_974_6, 11.139_510_2, 1.808_760_5],
        'TH' => [5.612_851, 97.343_807_2, 20.464_833_7, 105.636_812],
        'TJ' => [36.671_115_3, 67.333_277_5, 41.045_093_5, 75.153_956_3],
        'TK' => [-9.644_249_9, -172.721_367_3, -8.332_863_1, -170.979_758_6],
        'TM' => [35.129_093, 52.335_076, 42.797_557_1, 66.689_517_7],
        'TL' => [-9.564_277_5, 124.041_570_3, -8.089_545_9, 127.533_539_2],
        'TO' => [-24.103_449_9, -179.386_605_5, -15.365_572_2, -173.529_545_8],
        'TT' => [9.873_210_6, -62.083_056, 11.562_837_2, -60.289_584_8],
        'TN' => [30.230_236, 7.521_980_7, 37.761_205_2, 11.880_113_3],
        'TR' => [35.807_680_4, 25.621_289_1, 42.297, 44.817_663_8],
        'TV' => [-9.993_938_9, 175.159_046_8, -5.436_961_1, 178.734_493_8],
        'TW' => [10.374_269, 114.359_905_8, 26.437_222_2, 122.297],
        'TZ' => [-11.761_254, 29.326_977_3, -0.985_481_2, 40.658_407_1],
        'UG' => [-1.482_317_9, 29.573_433, 4.234_076_6, 35.000_308],
        'UA' => [44.184_598, 22.137_059, 52.379_147_3, 40.227_580_1],
        'UM' => [6.177_974_4, -162.681_629_7, 6.651_438_8, -162.133_988_5],
        'UY' => [-35.782_448_1, -58.494_843_8, -30.085_396_2, -53.075_583_3],
        'US' => [24.949_3, -125.001_1, 49.590_4, -66.932_6],
        'UZ' => [37.182_116_4, 55.997_786_5, 45.590_118, 73.139_736_2],
        'VA' => [41.900_204_4, 12.445_744_2, 41.907_391_2, 12.458_365_3],
        'VC' => [12.516_654_8, -61.665_747_1, 13.583, -60.909_414_6],
        'VE' => [0.647_529, -73.352_963_2, 15.915_843_1, -59.542_707_9],
        'VG' => [17.623_468, -65.159_094, 18.464_984, -64.512_674],
        'VI' => [17.623_468, -65.159_094, 18.464_984, -64.512_674],
        'VN' => [8.179_066_5, 102.144_41, 23.393_395, 114.333_759_5],
        'VU' => [-20.462_742_5, 166.335_525_5, -12.871_377_7, 170.449_982],
        'WF' => [-14.563_074_8, -178.387_374_9, -12.982_796_1, -175.919_039_1],
        'WS' => [-14.277_091_6, -173.009_186_4, -13.238_189_2, -171.192_922_9],
        'YE' => [11.908_480_2, 41.608_25, 19.0, 54.738_937_5],
        'ZA' => [-47.178_833_5, 16.333_521_3, -22.125_030_1, 38.289_895_4],
        'ZM' => [-18.076_594_5, 21.999_350_9, -8.271_282_2, 33.701_111],
        'ZW' => [-22.424_109_6, 25.237_3, -15.609_703_3, 33.068_341_3],
        'BQ' => [12.017, -68.416, 17.644, -62.921],
        'CW' => [12.045, -69.123, 12.385, -68.733],
        'SX' => [18.01, -63.145, 18.064, -63.01],
        'SS' => [3.488, -34.956, 12.246, 23.467],
    ];

    /**
     * @var array<string, array{float, float, float, float}>
     */
    public const array INNER_BOX = [
        'CZ' => [50.472_953_1, 13.235_706_7, 49.355_252_2, 15.982_288_6],
    ];

    public function __construct(public Point $topLeft, public Point $bottomRight) {}

    #[\Override]
    public function getGeomFromText(): string
    {
        return $this->getPolygon()->getGeomFromText();
    }

    public function getHeight(): float
    {
        return $this->topLeft->lat - $this->bottomRight->lat;
    }

    public function getPolygon(): Polygon
    {
        return new Polygon([
            [
                new Point($this->topLeft->lat, $this->topLeft->lng),
                new Point($this->topLeft->lat, $this->bottomRight->lng),
                new Point($this->bottomRight->lat, $this->bottomRight->lng),
                new Point($this->bottomRight->lat, $this->topLeft->lng),
            ],
        ]);
    }

    public function getRandomPoint(): Point
    {
        $random = new Randomizer();

        $lat = $random->getFloat($this->bottomRight->lat, $this->topLeft->lat, IntervalBoundary::OpenOpen);
        $lng = $random->getFloat($this->topLeft->lng, $this->bottomRight->lng, IntervalBoundary::OpenOpen);

        return new Point($lat, $lng);
    }

    #[\Override]
    public function getValue(Grammar $grammar): string
    {
        return $this->getPolygon()->getValue($grammar);
    }

    public function getWidth(): float
    {
        return $this->bottomRight->lng - $this->topLeft->lng;
    }

    /**
     * @param array{float, float, float, float} $bbox
     */
    public static function createFromArray(array $bbox): self
    {
        return new self(new Point(\max($bbox[0], $bbox[2]), \min($bbox[1], $bbox[3])), new Point(\min($bbox[0], $bbox[2]), \max($bbox[1], $bbox[3])));
    }
}
